<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="./componentes/navbar-style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/331a34d5ed.js"
      crossorigin="anonymous"
    ></script>
    <script defer src="./componentes/navbar-script.js"></script>
    <title>Perfil</title>
  </head>
  <body>
    <!-- Navbar -->
    <header class="wrapper">
      <a href="navbar.html">
        <img
          id="logo"
          src="img/logoPontecom.png"
          alt="Logo do site ponte.com. A letra N da palavra possui formato de ponte."
        />
      </a>

      <div class="wrapperSearch">
        <input
          type="text"
          class="wrapperSearch-txt"
          placeholder="Busque por ONGs ou voluntários..."
        />
        <button id="searchButton">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </div>

      <!-- Menu -->
      <ul class="wrapperNavbar">
        <li class="wrapper-li"><a href="./sobre.html">Sobre</a></li>
        <li class="wrapper-li">
          <a href="./vagas.html">Vagas de voluntariado</a>
        </li>
      </ul>

      <img
        src="img/foto-perfilONG.png"
        id="foto"
        alt="Foto de perfil do usuário."
      />

      <ul id="menuDropdown" class="">
        <li><a href="./paginaPerfil.html">Meu perfil</a></li>
        <li><a href="./cadastro-voluntario.html">Editar dados</a></li>
        <li><a href="./index.html">Logout</a></li>
      </ul>
    </header>

    <div class="searchResultContainer" id="searchResults"></div>
    <script src="./jsScripts/perfilONG.js"></script>
    <script src="./jsScripts/perfilVol.js"></script>

    <script>
      const searchResultContainer = document.getElementById("searchResults");

// Recupera os resultados do localStorage
const storedResults = localStorage.getItem('searchResults');

if (storedResults) {
  const results = JSON.parse(storedResults);
  displayResults(results);
} else {
  // Nenhum resultado encontrado
  searchResultContainer.textContent = "Nenhum resultado encontrado";
}

function displayResults(results) {
  searchResultContainer.innerHTML = "";

  results.forEach((ong) => {
    const resultItem = document.createElement("div");
    resultItem.classList.add("searchResultItem");

    const img = document.createElement("img");
    img.src = ong.fotoPerfil;
    img.alt = "Foto de perfil da ONG";

    const name = document.createElement("h3");
    name.textContent = ong.nomeUsuarioONG !== undefined ? ong.nomeUsuarioONG : ong.nomeUsuario;

    const biografia = document.createElement("p");
    biografia.textContent = ong.biografia;

    const interesses = document.createElement("p");
    interesses.textContent = ong.interesses;

    const verMaisButton = document.createElement("button");
    verMaisButton.textContent = "Ver mais";
    verMaisButton.addEventListener("click", () => {
      window.location.href = ong.nomeUsuarioONG !== undefined
        ? `paginaPerfilONG.html?id=${ong.id}`
        : `paginaPerfilVol.html?id=${ong.id}`;
    });

    resultItem.append(img, name, biografia, interesses, verMaisButton);

    searchResultContainer.appendChild(resultItem);
  });
}
    </script>
  </body>
</html>